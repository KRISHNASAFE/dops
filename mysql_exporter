
mysql installation :
lsb_release -a
apt install mysql-server mysql-client -y
mysql_secure_installation

mysql -u root -p
show databases;
use database_name
show tables;
select * from table_name;
insert into table_name values()

mysql_exporter installation :

Please follow the below steps to install mysqld_exporter :-

Step 1:
curl -s https://api.github.com/repos/promethe...
   | grep browser_download_url   | grep linux-amd64 | cut -d '"' -f 4   | wget -qi -

Step 2:
tar xvf mysqld_exporter*.tar.gz

Step 3:
sudo mv  mysqld_exporter-*.linux-amd64/mysqld_exporter /usr/local/bin/

Step 4:
sudo chmod +x /usr/local/bin/mysqld_exporter

Step 5:
CREATE USER mysqld_exporter IDENTIFIED BY 'PASSWD';
GRANT PROCESS, REPLICATION CLIENT, SELECT ON . TO 'mysqld_exporter';
FLUSH PRIVILEGES;
EXIT

Step 6:
Configure DB Credential
sudo vi /etc/.mysqld_exporter.cnf

[client]
user=mysqld_exporter
password=PASSWD
host=$ip_address

Step 7:
Change ownership
sudo chown root:prometheus /etc/.mysqld_exporter.cnf

Create Systemd File
sudo vi /etc/systemd/system/mysql_exporter.service

Step 8:

mysql_exporter.service file :-

 [Unit]
 Description=Prometheus MySQL Exporter
 After=network.target
 User=prometheus
 Group=prometheus

 [Service]
 Type=simple
 Restart=always
 ExecStart=/usr/local/bin/mysqld_exporter \
 --config.my-cnf /etc/.mysqld_exporter.cnf \
 --collect.global_status \
 --collect.info_schema.innodb_metrics \
 --collect.auto_increment.columns \
 --collect.info_schema.processlist \
 --collect.binlog_size \
 --collect.info_schema.tablestats \
 --collect.global_variables \
 --collect.info_schema.query_response_time \
 --collect.info_schema.userstats \
 --collect.info_schema.tables \
 --collect.perf_schema.tablelocks \
 --collect.perf_schema.file_events \
 --collect.perf_schema.eventswaits \
 --collect.perf_schema.indexiowaits \
 --collect.perf_schema.tableiowaits \
 --collect.slave_status \
 --web.listen-address=0.0.0.0:9104
 
 [Install]
 WantedBy=multi-user.target


Step 9:
sudo systemctl daemon-reload
sudo systemctl enable mysql_exporter
sudo systemctl start mysql_exporter
